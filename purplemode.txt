this is writen during purplemode branch